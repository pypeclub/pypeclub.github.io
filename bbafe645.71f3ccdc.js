(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{113:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return u}));var a=n(0),o=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=p(n),m=a,u=b["".concat(r,".").concat(m)]||b[m]||d[m]||i;return n?o.a.createElement(u,l(l({ref:t},s),{},{components:n})):o.a.createElement(u,l({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var s=2;s<i;s++)r[s]=n[s];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},115:function(e,t,n){"use strict";function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o}},118:function(e,t,n){"use strict";var a=n(0),o=Object(a.createContext)(void 0);t.a=o},119:function(e,t,n){"use strict";var a=n(0),o=n(118);t.a=function(){var e=Object(a.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},123:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(119),r=n(115),l=n(47),c=n.n(l),s=37,p=39;t.a=function(e){var t=e.block,n=e.children,l=e.defaultValue,b=e.values,d=e.groupId,m=Object(i.a)(),u=m.tabGroupChoices,O=m.setTabGroupChoices,j=Object(a.useState)(l),h=j[0],v=j[1],y=Object(a.useState)(!1),g=y[0],N=y[1];if(null!=d){var f=u[d];null!=f&&f!==h&&b.some((function(e){return e.value===f}))&&v(f)}var w=function(e){v(e),null!=d&&O(d,e)},C=[],P=function(e){e.metaKey||e.altKey||e.ctrlKey||N(!0)},x=function(){N(!1)};return Object(a.useEffect)((function(){window.addEventListener("keydown",P),window.addEventListener("mousedown",x)}),[]),o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":t})},b.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===t,className:Object(r.a)("tabs__item",c.a.tabItem,{"tabs__item--active":h===t}),style:g?{}:{outline:"none"},key:t,ref:function(e){return C.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case p:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(C,e.target,e),P(e)},onFocus:function(){return w(t)},onClick:function(){w(t),N(!1)},onPointerDown:function(){return N(!1)}},n)}))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter((function(e){return e.props.value===h}))[0]))}},124:function(e,t,n){"use strict";var a=n(0),o=n.n(a);t.a=function(e){return o.a.createElement("div",null,e.children)}},93:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return d}));var a=n(2),o=n(6),i=(n(0),n(113)),r=n(123),l=n(124),c={id:"admin_install",title:"Pype Setup",sidebar_label:"Pype Setup"},s={unversionedId:"admin_install",id:"admin_install",isDocsHomePage:!1,title:"Pype Setup",description:"Introduction",source:"@site/docs/admin_install.md",slug:"/admin_install",permalink:"/docs/admin_install",version:"current",sidebar_label:"Pype Setup",sidebar:"Admin",previous:{title:"Getting Started",permalink:"/docs/admin_getting_started"},next:{title:"Studio Config",permalink:"/docs/admin_config"}},p=[{value:"Introduction",id:"introduction",children:[]},{value:"Requirements",id:"requirements",children:[{value:"Python 3.6+",id:"python-36",children:[]},{value:"MongoDB",id:"mongodb",children:[]},{value:"Git",id:"git",children:[]},{value:"PowerShell (on Windows only)",id:"powershell-on-windows-only",children:[]},{value:"Xcode CLT (on Mac only)",id:"xcode-clt-on-mac-only",children:[]},{value:"Other",id:"other",children:[]}]},{value:"Studio Setup",id:"studio-setup",children:[{value:"Pype location",id:"pype-location",children:[]},{value:"Installation",id:"installation",children:[]},{value:"Deployment",id:"deployment",children:[]}]}],b={rightToc:p};function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"introduction"},"Introduction"),Object(i.b)("p",null,"The general approach to pype deployment is installing central repositories on a shared network storage which can be accessed by all artists in the studio. Simple shortcuts to launchers are then distributed to all workstations for artists to use. This approach ensures easy maintenance and updates."),Object(i.b)("p",null,"When artist first runs pype all the required python packages get installed automatically to his local workstation and updated everytime there is a change in the central installation."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Automatic workstation installation and updates will not work in offline scenarios. In these case ",Object(i.b)("inlineCode",{parentName:"p"},"pype install --force --offline")," command must be triggered explicitly on the workstation"))),Object(i.b)("h2",{id:"requirements"},"Requirements"),Object(i.b)("h3",{id:"python-36"},"Python 3.6+"),Object(i.b)("p",null,"Pype requires Python 3.6 or later to be installed on each workstation running Pype."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"If you want to use pype with Blender, you need to upgrade your python to 3.7 or higher."))),Object(i.b)("p",null,"Windows version of Python can be easily grabbed at ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.python.org/downloads/"}),"python.org"),". Install location doesn't matter but\npython executable should be in ",Object(i.b)("inlineCode",{parentName:"p"},"PATH")," environment variable."),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Linux")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"On linux it is somehow different and all depends on linux distribution in use."),Object(i.b)("p",{parentName:"div"},"Some linux variants (for example ",Object(i.b)("em",{parentName:"p"},"Ubuntu"),") need ",Object(i.b)("strong",{parentName:"p"},"python-dev")," variant of python package that includes python headers and developer tools. This is needed because some of ",Object(i.b)("strong",{parentName:"p"},"Pype")," requirements need to compile themselves against python during their installation. Please, refer to your distribution community to find out how to install that package."))),Object(i.b)(r.a,{groupId:"platforms",defaultValue:"win",values:[{label:"Windows",value:"win"},{label:"Linux",value:"linux"},{label:"Mac",value:"mac"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"win",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),'sudo yum group install "Development Tools"\n')),Object(i.b)("p",null,"Python 3.6 is not part of official distribution. Easiest way is to add it with the help of ",Object(i.b)("em",{parentName:"p"},"SCL")," - Software Collection project.\nThis has advantage that it won't replace system version of python."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"sudo yum update\nsudo yum install centos-release-scl\n")),Object(i.b)("p",null,"Now you can install python itself:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"sudo yum install rh-python36\n")),Object(i.b)("p",null,"To be able to use installed version of python, you must enable it in shell:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"scl enable rh-python36 bash\n")),Object(i.b)("p",null,"This will enable python 3.6 in currently running bash only!"),Object(i.b)("p",null,"Check it with:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"python --version\n"))),Object(i.b)(l.a,{value:"linux",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"sudo apt install build-essential\n")),Object(i.b)("p",null,"Some versions of Ubuntu already has python 3.6 installed, check it with:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"python3 --version\n")),Object(i.b)("p",null,"If python shows lower version then required, use:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"sudo apt-get update\nsudo apt-get install python3-dev\n")),Object(i.b)("p",null,"Please be aware that even if your system already has python 3.6, than if that\ndidn't come from ",Object(i.b)("strong",{parentName:"p"},"python3-dev")," package, Pype will most likely fail to install\nit's dependencies."))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Override Python detection")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"You can override autodetection of Python. This can be useful if you want to use central network python location or some other custom location. Just set ",Object(i.b)("inlineCode",{parentName:"p"},"PYPE_PYTHON_EXE")," environment variable to point where you need."))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"mongodb"},"MongoDB"),Object(i.b)("p",null,"Pype needs site-wide installation of ",Object(i.b)("strong",{parentName:"p"},"MongoDB"),". It should be installed on\nreliable server all workstations (and possibly render nodes) can connect. This\nserver holds ",Object(i.b)("strong",{parentName:"p"},"Avalon")," database that is at the core of everything, containing\nvery important data, so it should be backed up often and if high-availability is\nneeded, ",Object(i.b)("em",{parentName:"p"},"replication")," feature of ",Object(i.b)("strong",{parentName:"p"},"MongoDB")," should be considered. This is beyond the\nscope of this documentation, please refer to ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.mongodb.com/manual/replication/"}),"MongoDB Documentation"),"."),Object(i.b)("p",null,"Pype can run it's own instance of ",Object(i.b)("strong",{parentName:"p"},"mongodb"),", mostly for testing and development purposes.\nFor that it uses locally installed ",Object(i.b)("strong",{parentName:"p"},"MongoDB"),"."),Object(i.b)("p",null,"Download it from ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.mongodb.com/download-center/community"}),"mognoDB website"),", install it and\nadd to the ",Object(i.b)("inlineCode",{parentName:"p"},"PATH"),". On Windows, Pype tries to find it in standard installation destination or using ",Object(i.b)("inlineCode",{parentName:"p"},"PATH"),"."),Object(i.b)("p",null,"To run ",Object(i.b)("strong",{parentName:"p"},"mongoDB")," on server, use your server distribution tools to set it up (on Linux)."),Object(i.b)("h3",{id:"git"},"Git"),Object(i.b)("p",null,"To be able to deploy Pype, ",Object(i.b)("strong",{parentName:"p"},"git")," is need. It will clone all required repositories and\ncontrol versions so future updates are easier. Git is however only requirent on admin workstation for global studio updates."),Object(i.b)("p",null,"See ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git"}),"how to install git"),"."),Object(i.b)("p",null,"To access private repositories, you'll need other optional stuff like ssh key agents, etc."),Object(i.b)("h3",{id:"powershell-on-windows-only"},"PowerShell (on Windows only)"),Object(i.b)("p",null,"PowerShell is now included in recent versions of Windows. ",Object(i.b)("strong",{parentName:"p"},"Pype")," requires at least\nversion 5.0, included in Windows 10 from beginning and available for Windows 7 SP1,\nWindows 8.1 and Windows Server 2012."),Object(i.b)("p",null,"If you want to know what version of PowerShell are you running, execute in PowerShell prompt:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-powershell"}),"$PSVersionTable\n")),Object(i.b)("p",null," If you need to install PowerShell or update it, please refer to:\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell?view=powershell-6"}),"Installing powershell on windows")),Object(i.b)("h3",{id:"xcode-clt-on-mac-only"},"Xcode CLT (on Mac only)"),Object(i.b)("p",null,"Pype need ",Object(i.b)("strong",{parentName:"p"},"Xcode Command Line Tools")," installed to provide its tools and be able to install its dependencies via pythons ",Object(i.b)("inlineCode",{parentName:"p"},"pip")," command. Those will be downloaded\nand installed automatically if needed."),Object(i.b)("h3",{id:"other"},"Other"),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"Linux headless server")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"If you need to run Pype's ",Object(i.b)("strong",{parentName:"p"},"ftrack event server")," on headless linux server, be aware that due Qt dependencies, you'll need to install OpenGL support there even if server doesn't have any real use for it."))),Object(i.b)("h2",{id:"studio-setup"},"Studio Setup"),Object(i.b)("h3",{id:"pype-location"},"Pype location"),Object(i.b)("p",null,"Before you install Pype, first clone ",Object(i.b)("strong",{parentName:"p"},"pype-setup")," repository to place you want Pype to be. In studio setting\nyou probably want that destination to be on shared network drive so all users can access it."),Object(i.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"production and development branch")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"We recommend to maintain two ",Object(i.b)("em",{parentName:"p"},"versions")," of Pype. The first is ",Object(i.b)("strong",{parentName:"p"},"production")," branch - the one your artists use everyday for their work. The second one is ",Object(i.b)("strong",{parentName:"p"},"development")," version you should use for testing new features and as development sandbox. Development branch can point to a different Avalon database and use its own ",Object(i.b)("strong",{parentName:"p"},"ftrack event server"),". More on that in ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"admin_config"}),"Pype Configuration")),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"Shared Network Drive\n\u251c\u2500\u2500\u2500 pype\n      \u251c\u2500\u2500\u2500 prod\n      \u2514\u2500\u2500\u2500 dev\n")),Object(i.b)("p",{parentName:"div"},"To prepare this structure, you can use:"),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"cd /shared_drive/pype\ngit clone --tag 2.4.0 https://bitbucket.com/pypeclub/pype-setup.git prod\ngit clone --tag 2.4.0 https://bitbucket.com/pypeclub/pype-setup.git dev\n")))),Object(i.b)("p",null,"Specify your version after ",Object(i.b)("inlineCode",{parentName:"p"},"--branch")," or ",Object(i.b)("inlineCode",{parentName:"p"},"--tag")," option."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"It is possible to distinguish ",Object(i.b)("inlineCode",{parentName:"p"},"dev")," and ",Object(i.b)("inlineCode",{parentName:"p"},"prod")," by changing Pype icon color to orange. To do so, you have to create ",Object(i.b)("inlineCode",{parentName:"p"},"config.ini")," file with content:"),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"[DEFAULT]\ndev=true\n")),Object(i.b)("p",{parentName:"div"},"And put the file to:"),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"Shared Network Drive\n\u251c\u2500\u2500\u2500 dev\n      \u2514\u2500\u2500\u2500 pype-setup\n            \u2514\u2500\u2500\u2500pypeapp\n                    \u2514\u2500\u2500\u2500config.ini\n")))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"You should always use tags to checkout to get specific release, otherwise you end up with ",Object(i.b)("em",{parentName:"p"},"develop")," branch that can be unstable."))),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"By default, both branches will use the same virtual environment. Be careful when modifying your requirements in ",Object(i.b)("strong",{parentName:"p"},"dev")," version because then it will influence ",Object(i.b)("strong",{parentName:"p"},"prod")," version as well. To be safe, modify ",Object(i.b)("inlineCode",{parentName:"p"},"PYPE_ENV")," environment variable before using ",Object(i.b)("strong",{parentName:"p"},"dev")," Pype commands."))),Object(i.b)("h3",{id:"installation"},"Installation"),Object(i.b)(r.a,{groupId:"platforms",defaultValue:"win",values:[{label:"Windows",value:"win"},{label:"Linux",value:"linux"},{label:"Mac",value:"mac"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"win",mdxType:"TabItem"},Object(i.b)("p",null,"To install Pype you need to get first to it's root directory in powershell."),Object(i.b)("p",null,"If you have Pype on network, you should mount it as drive and assign it some consistent letter. You can also mount this network drive via junction point feature. As admin run from shell:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),'mklink /d "C:\\pipeline" "\\\\server\\pipeline"\n')),Object(i.b)("p",null,"Then your network drive will be available transparently at ",Object(i.b)("inlineCode",{parentName:"p"},"C:\\pipeline"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"cd Z:\\pype\\production\\pype-setup\n")),Object(i.b)("hr",null),Object(i.b)("p",null,"Now you can run installation itself:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),".\\pype.bat install\n"))),Object(i.b)(l.a,{value:"linux",mdxType:"TabItem"},Object(i.b)("p",null,"To install pype you first need get to it's root directory in bash shell.\nIf you Pype location is on network drive, you should add it to ",Object(i.b)("inlineCode",{parentName:"p"},"/etc/fstab")," to\nmount it automatically during system startup."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"cd /location/of/pype\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Pype")," can be installed with the following command:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),". pype install\n")),Object(i.b)("p",null,"On linux it is necessary to adjust user permissions to ",Object(i.b)("inlineCode",{parentName:"p"},"/opt/pype/pype_env2")," or whatever you set in ",Object(i.b)("inlineCode",{parentName:"p"},"PYPE_ENV")," and for that you need to be ",Object(i.b)("strong",{parentName:"p"},"root"),"."),Object(i.b)("h4",{id:"mounting-network-drives"},"Mounting network drives"),Object(i.b)("p",null,"If you Pype location is on network drive, you need to mount it first. Here are the steps to do it and make it so it re-mounts automatically after your computer restarts:"),Object(i.b)("p",null,"1) in Finder press ",Object(i.b)("strong",{parentName:"p"},"Command+K"),"\n2) enter path ",Object(i.b)("inlineCode",{parentName:"p"},"smb://server/pipeline")," and hit ",Object(i.b)("strong",{parentName:"p"},"Connect"),"\n3) enter login and password\n4) network drive is now mounted under ",Object(i.b)("inlineCode",{parentName:"p"},"/Volumes/pipeline"),"\n5) now go to ",Object(i.b)("strong",{parentName:"p"},"System Preferences"),"\n6) click ",Object(i.b)("strong",{parentName:"p"},"Users & Groups -> Login Items"),"\n7) click + and select mounted drive and click ",Object(i.b)("strong",{parentName:"p"},"Add"))),Object(i.b)(l.a,{value:"mac",mdxType:"TabItem"},Object(i.b)("p",null,"To install Pype on Mac, you need to have Administrator privileges. There are also further requirements if you need to deploy repositories."),Object(i.b)("p",null,"Run ",Object(i.b)("strong",{parentName:"p"},"Terminal"),". Run following commands:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"sudo -s\ncd /Volumes/pipeline/pype/production/pype-setup\n./pype install\n")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"sudo -s")," will take you to elevated privileges and you need to enter your password. ",Object(i.b)("inlineCode",{parentName:"p"},"cd")," will change directory to where you have pype located and ",Object(i.b)("inlineCode",{parentName:"p"},"pype install")," will run installation."),Object(i.b)("p",null,"If there are then warnings about some directory not owned by current user, you can fix it with following commands:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"chown -R yourusername /usr/local/pype\nchown -R yourusername /Users/yourusername/Library/Caches/pip\n")),Object(i.b)("p",null,"Switch ",Object(i.b)("inlineCode",{parentName:"p"},"yourusername")," for your user name :)"))),Object(i.b)("p",null,"What it basically does is:\n1) Create python virtual environment on path: ",Object(i.b)("inlineCode",{parentName:"p"},"C:\\Users\\Public\\pype_env2")," on Windows or ",Object(i.b)("inlineCode",{parentName:"p"},"/opt/pype/pype_env2")," on Linux or ",Object(i.b)("inlineCode",{parentName:"p"},"/usr/local/pype/pype_env2")," on Mac.\nThis can be overridden by setting ",Object(i.b)("inlineCode",{parentName:"p"},"PYPE_ENV")," to different path. Logic behind this is that this directory on Windows can be shared\nbetween users on one machine - it only stores Pype dependencies, not any personal setting or credentials."),Object(i.b)("p",null,"2) Then it will install all python dependencies defined in ",Object(i.b)("inlineCode",{parentName:"p"},"pypeapp\\requirements.txt")," into this virtual environment."),Object(i.b)("p",null,"Default installation will use your internet connection to download all necessary requirements."),Object(i.b)("h4",{id:"offline-installation"},"Offline installation"),Object(i.b)("p",null,"You can also install Pype in offline scenarios:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype install --offline\n")),Object(i.b)("p",null,"This will use dependencies downloaded into ",Object(i.b)("inlineCode",{parentName:"p"},"pype-setup/vendor/packages")," rather than pulling directly from the internet. Those packages must, however, first be\ndownloaded on a machine connected to the internet using:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype download\n")),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"multiple platforms")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},Object(i.b)("inlineCode",{parentName:"p"},"pype download")," will only download packages for currently running platform. So if you run it on Windows machine, only windows packages get downloaded (along with many universal ones). If you then run ",Object(i.b)("inlineCode",{parentName:"p"},"pype install --offline")," on Linux machine, it will probably fail as Linux specific packages will be missing. In multiplatform environments we recommend to run ",Object(i.b)("inlineCode",{parentName:"p"},"pype download")," on all used platform to combine all necessary packages into ",Object(i.b)("inlineCode",{parentName:"p"},"vendor/packages"),"."))),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"multiplatform caveat")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"There can be problems with libraries compatibility, when using multiplatform environments. For example if using ",Object(i.b)("strong",{parentName:"p"},"PyQt 5.12"),", there seems to be no problem on Windows, but using it on ",Object(i.b)("strong",{parentName:"p"},"Centos Linux 7")," will cause problems because Centos ships with some older dependent libraries that will not work with aforementioned PyQt version."))),Object(i.b)("h4",{id:"forcing-installation"},"Forcing Installation"),Object(i.b)("p",null,"Sometime it is necessary to force re-install Pype environment. To do this:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype install --force\n")),Object(i.b)("p",null,"or"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype install --force --offline\n")),Object(i.b)("p",null,"in offline scenarios."),Object(i.b)("p",null,"This is useful if Pype is misbehaving as first line of debugging. You can of course just manually delete ",Object(i.b)("inlineCode",{parentName:"p"},"PYPE_ENV")," directory and run ",Object(i.b)("inlineCode",{parentName:"p"},"pype install")," again."),Object(i.b)("h3",{id:"deployment"},"Deployment"),Object(i.b)("p",null,"After Pype is cloned and installed, it is necessary to ",Object(i.b)("em",{parentName:"p"},"deploy")," all repositories used by Pype. This must be done on a computer with\nInternet access."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype deploy\n")),Object(i.b)("p",null,"This command will process all repositories specified in ",Object(i.b)("inlineCode",{parentName:"p"},"deploy/deploy.json")," and clone them into ",Object(i.b)("inlineCode",{parentName:"p"},"repos/")," directory."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype deploy --force\n")),Object(i.b)("p",null,"will deploy repositories, overwriting existing ones if they exists and setting them to state specified in ",Object(i.b)("em",{parentName:"p"},"deploy.json"),"."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"customizing deployment")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"You can customize your deployment to some extent. Everything specified in ",Object(i.b)("inlineCode",{parentName:"p"},"deploy/deploy.json")," is considered as default and can be overridden by creating your own ",Object(i.b)("em",{parentName:"p"},"deploy.json")," in sub directory."),Object(i.b)("pre",{parentName:"div"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-text"}),"pype\n \u251c\u2500\u2500\u2500 pypeapp\n \u251c\u2500\u2500\u2500 deploy\n \u2502       \u251c\u2500\u2500\u2500 deploy.json\n \u2502       \u251c\u2500\u2500\u2500 deploy_schema-1.0.json\n \u2502       \u251c\u2500\u2500\u2500 my_studio_override\n \u2502       \u2502                  \u251c\u2500\u2500\u2500 deploy.json\n \u2502       \u2502                  \u2514\u2500\u2500\u2500 deploy_schema-1.0.json\n \u2502      ...      \n...\n")),Object(i.b)("p",{parentName:"div"},"In such configuration, ",Object(i.b)("inlineCode",{parentName:"p"},"deploy/my_studio_override/deploy.json")," will take precedence over the default one."))),Object(i.b)("p",null,"To validate if Pype deployment is ok, run:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pype validate\n")),Object(i.b)("h4",{id:"structure-of-deployjson"},"Structure of ",Object(i.b)("inlineCode",{parentName:"h4"},"deploy.json")),Object(i.b)("p",null,"There are a few features in ",Object(i.b)("inlineCode",{parentName:"p"},"deploy.json")," that needs to be explained in further detail."),Object(i.b)("p",null,"Here is a list of keys used and their function:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"PYPE_CONFIG")," - path to Pype configuration repository.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"init_env")," - these are environment files in Pype configuration repository that\nare loaded immediately after Pype starts. They define basic functionality."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'"init_env": ["global", "avalon", "ftrack", "deadline"]\n')),Object(i.b)("p",{parentName:"li"},"For example, if you don't use ",Object(i.b)("em",{parentName:"p"},"Deadline")," but you need ",Object(i.b)("em",{parentName:"p"},"Muster")," support, change ",Object(i.b)("inlineCode",{parentName:"p"},"deadline")," to ",Object(i.b)("inlineCode",{parentName:"p"},"muster"),".\nPype will then load ",Object(i.b)("inlineCode",{parentName:"p"},"{PYPE_CONFIG}/environments/muster.json")," and set environment variables there.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"repositories"),": this is list of repositories that will be deployed to ",Object(i.b)("inlineCode",{parentName:"p"},"repos/"),". There are few options\nfor each repository:"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"name"),": name of repository will be used as directory name"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"url"),": url of the git repository"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"branch")," or ",Object(i.b)("inlineCode",{parentName:"li"},"tag"),": this specify either branch - it's ",Object(i.b)("em",{parentName:"li"},"HEAD")," will be checked out, or\n",Object(i.b)("inlineCode",{parentName:"li"},"tag")," - commit tagged with specified tag will be checked out."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"pip"),": these are additional dependencies to be installed by ",Object(i.b)("em",{parentName:"p"},"pip")," to virtual environment.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"archive_files"),": archive files to be unpacked to somewhere. For example ffmpeg installation or\nanything else we need to extract during deployment to some place."),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"extract_path"),": path to where this archive should be extracted"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"url")," or ",Object(i.b)("inlineCode",{parentName:"li"},"vendor"),": this is url of source to be downloaded or name in ",Object(i.b)("inlineCode",{parentName:"li"},"vendor/packages")," to be Used"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"md5_url")," optional url for md5 file to validate checksum of downloaded file"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"skip_first_subfolder")," will move everything inside first directory in archive to ",Object(i.b)("inlineCode",{parentName:"li"},"extract_path"),".")))),Object(i.b)("h4",{id:"offline-deployment"},"Offline Deployment"),Object(i.b)("p",null,"In offline scenarios it is up to you to replicate what ",Object(i.b)("inlineCode",{parentName:"p"},"pype deploy")," does. The easiest way\nto go is to run ",Object(i.b)("inlineCode",{parentName:"p"},"pype deploy")," on machine, get everything in ",Object(i.b)("inlineCode",{parentName:"p"},"repos/")," and move it to your studio install location:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"cd pype-setup\ntar cvzf pype_repos.tgz repos/\n")),Object(i.b)("p",null,"do the same for things deployed to ",Object(i.b)("em",{parentName:"p"},"vendor"),"."))}d.isMDXComponent=!0}}]);